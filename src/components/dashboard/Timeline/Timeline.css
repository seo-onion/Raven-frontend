/* Contenedor principal y título */
.stage-timeline-container {
    width: 100%;
    padding: 20px;
    background-color: white;
    border-radius: 8px;
    font-family: sans-serif;
}

.timeline-title {
    font-size: 1.2rem;
    font-weight: 500;
    color: #333;
    margin-bottom: 20px;
}

/* Contenedor de las etapas (flex horizontal) */
.timeline-stages {
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* Alineamos arriba para que el texto no afecte las barras */
    width: 100%;
}

/* Item de la etapa (Marcador + Barra si no es el último) */
.stage-item {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    /* Usamos flex-grow: 1 para distribuir el espacio de manera uniforme */
    flex-grow: 1; 
    min-width: 0; /* Asegura que el texto largo no desborde */
    position: relative;
    /* Eliminamos el padding derecho del último item para que no haya barra extra */
    &:last-child {
        flex-grow: 0;
    }
}


/* Marcador (Icono + Texto) */
.stage-marker {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 8px;
    position: relative;
    z-index: 2; /* Para que el texto e icono floten sobre la barra */
}

/* Icono (Círculo o Check) */
.stage-icon {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0; /* No se encoge */
}

/* Estilos para la etapa completada */
.stage-item.is-completed .stage-icon {
    background-color: transparent;
    color: #22c55e; /* Color verde para el Check */
}

.stage-item.is-completed .completed-icon {
    color: #22c55e;
}

/* Estilos para la etapa actual */
.stage-item.is-current .stage-icon {
    background-color: transparent;
    border: 2px solid #3b82f6; /* Borde azul para el círculo */
    color: #3b82f6;
}

/* Estilos para la etapa pendiente */
.stage-item.is-pending .stage-icon {
    background-color: transparent;
    border: 2px solid #ccc; /* Borde gris claro para el círculo */
    color: #ccc;
}

.pending-circle {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: currentColor; /* Usa el color del padre (.stage-icon) */
}

/* Etiqueta de la etapa */
.stage-label {
    font-size: 0.95rem;
    color: #888;
    white-space: nowrap; /* Evita que el texto se rompa */
}

.stage-item.is-completed .stage-label {
    color: #22c55e; /* Verde para la etapa completada */
    font-weight: 500;
}

.stage-item.is-current .stage-label {
    color: #3b82f6; /* Azul para la etapa actual */
    font-weight: 500;
}

/* Etiqueta "Actual" (Badge) */
.current-badge {
    background-color: #3b82f6; /* Azul */
    color: white;
    font-size: 0.7rem;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 4px;
    margin-left: 8px;
}


/* --- Barras de Progreso (Líneas) --- */

/* Contenedor de la barra: ajusta el espacio entre etapas */
.stage-progress-bar-container {
    width: 100%;
    height: 6px; /* Altura de la barra */
    position: relative;
    margin-top: 5px; /* Alineación vertical con los íconos */
    /* Desplaza la barra hacia la izquierda para que empiece justo debajo del centro del ícono */
    transform: translateX(-10px); 
    padding-right: 20px; /* Asegura que la barra del penúltimo item no vaya hasta el borde */
}

/* La línea de fondo (Gris) */
.stage-progress-bar {
    width: 100%;
    height: 100%;
    background-color: #e5e7eb; /* Gris claro de fondo */
    position: relative;
    border-radius: 3px;
    overflow: hidden; /* Para que la línea de progreso no sobresalga */
}

/* La línea de progreso (Verde o Azul) */
.progress-fill {
    height: 100%;
    position: absolute;
    left: 0;
    border-radius: 3px;
    transition: width 0.3s ease;
}

/* Barra verde para etapas completadas */
.stage-item.is-completed .progress-fill {
    width: 100%;
    background-color: #22c55e; /* Verde */
}

/* Barra azul para la etapa actual (rellena al 100% de la sección) */
.stage-item.is-current .progress-fill {
    width: 100%;
    background-color: #3b82f6; /* Azul */
}

/* Etapas pendientes: la barra se queda en gris (no hay 'progress-fill' con width > 0) */
.stage-item.is-pending .progress-fill {
    width: 0;
}